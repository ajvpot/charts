{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base",
      ":prHourlyLimitNone",
      ":prConcurrentLimitNone"
   ],
   "packageRules":[
      {
         "matchUpdateTypes":[
            "minor",
            "patch",
            "pin",
            "digest"
         ],
         "automerge":true
      },
{"packageRules":[{"matchManagers":["helm-requirements","helm-values"],"postUpgradeTasks":{"commands":["version=$(grep '^version:' {{{parentDir}}}/Chart.yaml | awk '{print $2}')\n        major=$(echo $version | cut -d. -f1)\n        minor=$(echo $version | cut -d. -f2)\n        patch=$(echo $version | cut -d. -f3)\n        minor=$(expr $minor + 1)\n        echo \"Replacing $version with $major.$minor.$patch\"\n        sed -i \"s/^version:.*/version: ${major}.${minor}.${patch}/g\" {{{parentDir}}}/Chart.yaml\n        cat {{{parentDir}}}/Chart.yaml"],"fileFilters":["**/Chart.yaml"],"executionMode":"branch"}}]}
   ],
  "git-submodules": {
    "enabled": true
  },
  "helm-values": {
    "enabled": true,
    "pinDigests": true,
  },
  "helmv3": {
    "enabled": true,
    "bumpVersion": "patch"
  }
}
